:root {
    --bg-color: #6dafaa;
    /* Rusty Lake Sage */
    --wall-color: #558b85;
    --shadow-color: #1a1a1a;
    --text-color: #e0e0e0;
    --paper-color: #f4e4bc;
    /* Vintage paper */
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background-color: var(--bg-color);
    font-family: 'Courier New', Courier, monospace;
    /* Typewriter feel */
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

#particleCanvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
}

/* --- GALLERY WALL LAYOUT --- */
.gallery-wall {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    /* Context for absolute positioning if needed */
    width: 100%;
    height: 100vh;
    overflow: hidden;
}

/* --- THE ART FRAME (The Asset Container) --- */
.art-frame {
    position: relative;
    /* Maintain Aspect Ratio of the provided image (looks roughly 4:3 or square).
       Let's stick to a solid size for now. */
    width: 650px;
    height: 550px;

    /* The Background Asset */
    background-image: url('images/antique-frame.png');
    background-size: contain;
    /* Ensure the whole frame is visible */
    background-repeat: no-repeat;
    background-position: center;

    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2;
    /* No border or shadow here, the image has it */
}

/* --- THE APERTURE (The Content Window) --- */
/* This overlays the "hole" in the frame to hide the original content */
.art-aperture {
    position: absolute;
    /* Fine-tuning these values to align with the visual frame window */
    /* Based on estimation: Frame is thick. */
    width: 38%;
    height: 52%;
    top: 24%;
    /* Push down to align with hole */
    /* left is auto-centered by flexbox if positioning is absolute? 
       No, absolute ignores flexbox centering unless careful.
       Let's use slight offsets if needed, or rely on flex centering if position is relative?
       Let's try Relative positioning inside the flex container?
       No, Absolute is safer for "Masking".
    */

    background: #0f0f0f;
    /* The dark void */
    box-shadow: inset 0 0 40px rgba(0, 0, 0, 0.9);
    /* Deep inner shadow for realism */
    overflow: hidden;
    /* Clip the shadow man */
    border-radius: 2px;
    /* Slight softening */
}

/* --- COMPONENT: SHADOW CANVAS --- */
/* Matches the aperture exactly */
#shadowCanvas {
    width: 100%;
    height: 100%;
    /* Fill the aperture */
    position: absolute;
    top: 0;
    left: 0;
    pointer-events: none;
}

/* --- THE MUSEUM LABEL --- */
.museum-label {
    position: absolute;
    left: 50%;
    top: 50%;
    /*
       Calculate Position:
       Left: Center + Half Frame Width (225px) + Gap (30px) = 255px
       Top:  Center + Half Frame Height (300px) - Label Height (approx 100px)
             User wants "Lower Right Corner". Let's align it to the bottom edge.
             Top: 300px (Bottom of frame relative to center) - Label Height.
             Actually, let's use margin-top to push it down.
    */
    margin-left: 255px;
    margin-top: 180px;
    /* Pushes it down towards bottom right */

    width: 180px;
    /* Smaller */
    background: #e8e8e8;
    /* Dimmer off-white */
    padding: 15px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    color: #222;
    z-index: 2;
}

.label-title {
    font-size: 14px;
    /* Smaller */
    font-weight: 700;
    color: #111;
    margin-bottom: 8px;
    padding-bottom: 8px;
    border-bottom: 1px solid #999;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    line-height: 1.2;
}

.label-desc {
    font-size: 12px;
    /* Smaller */
    color: #444;
    font-weight: 400;
    font-style: italic;
    margin-bottom: 0;
    line-height: 1.3;
}

.label-meta {
    display: block;
    margin-top: 20px;
    font-size: 11px;
    color: #666;
    font-weight: 400;
    text-transform: uppercase;
    letter-spacing: 1px;
}


/* --- COMPONENT: SHADOW CANVAS --- */
#shadowCanvas {
    width: 100%;
    height: 80%;
    position: absolute;
    top: 0;
    left: 0;
    pointer-events: none;
}

/* --- COMPONENT: DIALOG BOX --- */
.dialog-box {
    position: absolute;
    bottom: 50px;
    width: 80%;
    height: 60px;
    background: var(--paper-color);
    border: 2px solid #5d4037;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    display: flex;
    justify-content: center;
    align-items: center;
    /* No padding/margin needed if flex centers content */
}

/* --- VANISHING TEXT SYSTEM --- */
#tearInput {
    width: 100%;
    height: 100%;
    background: transparent;
    border: none;
    outline: none;
    text-align: center;
    font-family: 'Courier Prime', monospace;
    font-size: 24px;
    color: transparent;
    /* HIDE actual text */
    caret-color: transparent;
    /* Hide Native Caret */
    position: relative;
    z-index: 2;
}

/* Custom Cursor */
.ghost-cursor {
    display: inline-block;
    width: 2px;
    height: 24px;
    background-color: #3e2723;
    margin-left: 2px;
    vertical-align: middle;
    animation: blink 1s step-end infinite;
}

@keyframes blink {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0;
    }
}

#ghostContainer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1;
}

.ghost-char {
    position: relative;
    display: inline-block;
    color: #3e2723;
    font-family: 'Courier Prime', monospace;
    font-size: 24px;
    animation: vanish 0.8s forwards;
    white-space: pre;
}

#ghostPlaceholder {
    position: absolute;
    width: 100%;
    text-align: center;
    font-family: 'Courier Prime', monospace;
    font-size: 24px;
    color: #3e2723;
    opacity: 0.5;
    pointer-events: none;
    z-index: 1;
    transition: opacity 0.2s;
}

.placeholder-hidden {
    opacity: 0 !important;
}

@keyframes vanish {
    0% {
        opacity: 1;
        transform: translateY(0);
    }

    20% {
        opacity: 1;
        transform: translateY(0);
    }

    100% {
        opacity: 0;
        transform: translateY(-5px);
    }
}

#shadowCanvas {
    width: 100%;
    height: 80%;
    position: absolute;
    top: 0;
    left: 0;
    pointer-events: none;
    /* Let clicks pass through to UI if needed */
}

.dialog-box {
    position: absolute;
    bottom: 50px;
    width: 80%;
    height: 60px;
    background: var(--paper-color);
    border: 2px solid #5d4037;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 24px;
    color: #3e2723;
}

#tearInput {
    width: 100%;
    height: 100%;
    background: transparent;
    border: none;
    outline: none;
    text-align: center;
    font-family: 'Courier Prime', monospace;
    font-size: 24px;
    color: transparent;
    /* HIDE actual text */
    caret-color: transparent;
    /* Hide Native Caret */
    position: relative;
    z-index: 2;
}

/* Custom Cursor */
.ghost-cursor {
    display: inline-block;
    width: 2px;
    height: 24px;
    background-color: #3e2723;
    margin-left: 2px;
    vertical-align: middle;
    animation: blink 1s step-end infinite;
}

@keyframes blink {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0;
    }
}

#ghostContainer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1;
}

.ghost-char {
    position: relative;
    /* Changed from absolute to allow Flow */
    display: inline-block;
    color: #3e2723;
    font-family: 'Courier Prime', monospace;
    font-size: 24px;
    animation: vanish 0.8s forwards;
    /* Faster (0.5s -> 0.2s visible) */
    white-space: pre;
}

#ghostPlaceholder {
    position: absolute;
    width: 100%;
    text-align: center;
    font-family: 'Courier Prime', monospace;
    font-size: 24px;
    color: #3e2723;
    opacity: 0.5;
    pointer-events: none;
    z-index: 1;
    transition: opacity 0.2s;
}

.placeholder-hidden {
    opacity: 0 !important;
}

@keyframes vanish {
    0% {
        opacity: 1;
        transform: translateY(0);
    }

    20% {
        opacity: 1;
        transform: translateY(0);
    }

    /* Short hold (0.16s) */
    100% {
        opacity: 0;
        transform: translateY(-5px);
    }
}

/* background: rgba(0,0,0,0.1); Debug tint */
.dialog-box {
    width: 90%;
    height: 15%;
    background: var(--paper-color);
    border: 2px solid #333;
    padding: 10px;
    margin-bottom: 20px;
    box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
}

#tearInput {
    width: 100%;
    background: transparent;
    border: none;
    font-family: 'Courier New', Courier, monospace;
    font-size: 1.2rem;
    color: #333;
    text-align: center;
    outline: none;
}

#tearInput::placeholder {
    color: #888;
    font-style: italic;
}